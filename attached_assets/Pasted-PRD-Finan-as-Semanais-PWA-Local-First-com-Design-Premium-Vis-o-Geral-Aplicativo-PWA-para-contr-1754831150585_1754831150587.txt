PRD: FinanÃ§as Semanais â€“ PWA Local-First com Design Premium
ğŸ“– VisÃ£o Geral
Aplicativo PWA para controle de receitas, despesas e metas semanais, totalmente local-first (dados salvos apenas no dispositivo, mesmo apÃ³s fechar ou reinstalar).

O sistema deve calcular progresso de meta semanal automaticamente, considerando semanas de domingo a sÃ¡bado. O design serÃ¡ 100% inspirado nas referÃªncias anexadas â€” interface limpa, tipografia moderna, degradÃªs elegantes, microinteraÃ§Ãµes e responsividade.

ğŸ¯ Objetivos
Gerenciar receitas, despesas e categorias de forma simples e rÃ¡pida.

Calcular progresso da meta semanal em tempo real ao adicionar/editar/excluir transaÃ§Ãµes.

Interface visualmente premium e responsiva, com microinteraÃ§Ãµes suaves.

Operar offline como PWA, com dados persistentes no frontend (IndexedDB + criptografia).

Permitir importaÃ§Ã£o/exportaÃ§Ã£o de dados para backup/migraÃ§Ã£o.

ğŸ‘¥ PÃºblico-Alvo
AutÃ´nomos, MEIs e freelancers que querem controlar metas semanais.

UsuÃ¡rios que valorizam design moderno e experiÃªncia fluida.

Pessoas que preferem nÃ£o depender de nuvem para guardar seus dados financeiros.

ğŸ“Œ Escopo do MVP
Inclui:

Dashboard semanal com meta, receita, progresso, status e totais anuais.

CRUD de Receitas, Despesas e Categorias.

CÃ¡lculo de progresso Domingoâ†’SÃ¡bado.

RelatÃ³rios com grÃ¡ficos por categoria e perÃ­odo.

Backup/Restore JSON + Export CSV.

PWA instalÃ¡vel e totalmente offline.

âœ… Requisitos Funcionais
1. AutenticaÃ§Ã£o Local (opcional)
PIN ou biometria (WebAuthn) para desbloqueio.

Dados criptografados no IndexedDB (AES-GCM via WebCrypto).

2. Dashboard
Cards principais:

Meta da Semana

Receita da Semana

Receita Total (Ano)

Despesa Total (Ano)

Progresso da Meta:

CÃ¡lculo automÃ¡tico (domingoâ†’sÃ¡bado).

Barra animada e status (â€œAtingidaâ€ ou â€œPendenteâ€).

Texto â€œFalta R$ X para atingir a metaâ€.

Label da semana: â€œ03 ago â€“ 09 ago 2025â€.

Receitas por Categoria (Esta Semana): grÃ¡fico circular + legenda.

3. TransaÃ§Ãµes (Receitas e Despesas)
Campos: Data, Categoria, Valor, DescriÃ§Ã£o.

CRUD completo.

MudanÃ§a de valor/data atualiza progresso da meta.

4. Categorias
Tipo: Receita ou Despesa.

Nome Ãºnico por tipo.

Cor e Ã­cone personalizados.

5. RelatÃ³rios
Filtros: Semana, MÃªs, Ano, Personalizado.

GrÃ¡ficos:

Pizza/rosca por categoria.

Linha/barras para evoluÃ§Ã£o.

Exportar dados em CSV.

6. Backup & RestauraÃ§Ã£o
Exportar JSON cifrado.

Importar JSON/CSV com prÃ©-visualizaÃ§Ã£o.

âš™ï¸ Requisitos NÃ£o Funcionais
Stack: React + TypeScript + Vite, TailwindCSS, shadcn/ui, Zustand, Dexie, Recharts/ApexCharts.

IndexedDB com criptografia.

PWA com Workbox (offline-first).

Desempenho: TTI < 2s, bundle < 200KB gzip.

Acessibilidade WCAG 2.1 AA.

ğŸ¨ Design (Inspirado nas imagens enviadas)
Tipografia
General Sans Variable â€” pesos Regular, Medium, Semibold.

Valores monetÃ¡rios com espaÃ§amento monoespaÃ§ado para precisÃ£o.

Paleta (com degradÃªs)
#77FFC8 â†’ #B1DAFF (verde-azulado claro)

#B1DAFF â†’ #EBC3FF (azul-lilÃ¡s suave)

Fundo em gradient radial sutil (tons pastel azul/verde).

Texto: preto 80% no light mode, branco 90% no dark mode.

Estilo de Componentes
Cards:

Bordas arredondadas grandes (20px+).

Fundo com glassmorphism (transparÃªncia + blur).

Sombra suave: 0 4px 24px rgba(0,0,0,0.08).

Ãcone no canto, label pequena e valor em destaque.

GrÃ¡ficos:

Tema minimalista com cores da paleta.

Legendas com badges coloridas e percentuais.

Barras de progresso:

Altura 12â€“14px, arredondada.

DegradÃª animado (verde-azulado).

Sidebar:

Ãcones minimalistas, labels claras.

Hover com gradiente suave.

MicrointeraÃ§Ãµes
Hover: leve elevaÃ§Ã£o + intensificaÃ§Ã£o de sombra.

TransiÃ§Ãµes: transition-all ease-in-out 200ms.

AnimaÃ§Ã£o no carregamento de grÃ¡ficos e barras.

ğŸ—„ï¸ Estrutura de Dados (IndexedDB)
profiles: id, nome, cor.

settings: metaSemanal, semanaIniciaEm (0), tema.

categories: id, tipo, nome, cor, Ã­cone.

incomes: id, data, categoriaId, valor, descriÃ§Ã£o.

expenses: id, data, categoriaId, valor, descriÃ§Ã£o.

ğŸ”„ LÃ³gica do Progresso (Domingoâ†’SÃ¡bado)
ts
Copiar
Editar
const start = startOfWeek(today, { weekStartsOn: 0 }); // Domingo
const end = endOfWeek(today, { weekStartsOn: 0 }); // SÃ¡bado
// Soma receitas na semana
const receitaSemana = incomes.filter(i => i.date >= start && i.date <= end)
                             .reduce((acc, i) => acc + i.valor, 0);
const progresso = Math.min(100, Math.floor((receitaSemana / metaSemanal) * 100));
Atualizar automaticamente no Dashboard quando receitas forem alteradas.

